{"version":3,"file":"base.js","sourceRoot":"","sources":["../../src/services/base.ts"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AAE9B,OAAO,EAAE,kBAAkB,EAAE,MAAM,wBAAwB,CAAC;AAE5D,MAAM;;;;;IAuBK,MAAM,CAAC,aAAa;QACvB,OAAO,IAAI,kBAAkB,EAAE,CAAC;;;;;;;IAG7B,MAAM,CAAC,YAAY,CAAC,GAAW,EAAE,WAAmB;QACvD,OAAO,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,GAAG,EAAE,IAAI,WAAW,GAAG,GAAG,GAAG,IAAI,CAAC;;;;;;;;IAGvD,MAAM,CAAC,OAAO,CAAoC,UAAa,EAAE,EAAgD;QACpH,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YAClC,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;SAC5B,CAAC,CAAC;;;sBAjCyC;IAC5C,UAAU,EAAE,EAAE;IACd,GAAG,EAAE,SAAS;IACd,OAAO,EAAE,EAAE;IACX,MAAM,EAAE,EAAE;IACV,EAAE,EAAE,EAAE;CACT;wBAE0D;IACvD,UAAU,EAAE,EAAE;IACd,GAAG,EAAE,SAAS;IACd,OAAO,EAAE,EAAE;IACX,YAAY,EAAE,EAAE;IAChB,MAAM,EAAE,EAAE;IACV,WAAW,EAAE,EAAE;IACf,IAAI,EAAE,EAAE;IACR,IAAI,EAAE,IAAI,IAAI,EAAE;IAChB,kBAAkB,EAAE,YAAY;IAChC,WAAW,EAAE,CAAC;IACd,SAAS,EAAE,EAAE;CAChB","sourcesContent":["import { IBuildedParamsCollection, IParamsCollection, IParamsResource } from '../interfaces';\nimport { Page } from './page';\nimport { Resource } from '../resource';\nimport { DocumentCollection } from '../document-collection';\n\nexport class Base {\n    public static ParamsResource: IParamsResource = {\n        beforepath: '',\n        ttl: undefined,\n        include: [],\n        fields: {},\n        id: ''\n    };\n\n    public static ParamsCollection: IBuildedParamsCollection = {\n        beforepath: '',\n        ttl: undefined,\n        include: [],\n        remotefilter: {},\n        fields: {},\n        smartfilter: {},\n        sort: [],\n        page: new Page(),\n        store_cache_method: 'individual',\n        storage_ttl: 0,\n        cachehash: ''\n    };\n\n    public static newCollection<R extends Resource = Resource>(): DocumentCollection<R> {\n        return new DocumentCollection();\n    }\n\n    public static isObjectLive(ttl: number, last_update: number) {\n        return ttl >= 0 && Date.now() <= last_update + ttl * 1000;\n    }\n\n    public static forEach<T extends { [keyx: string]: any }>(collection: T, fc: (object: any, key?: string | number) => void): void {\n        Object.keys(collection).forEach(key => {\n            fc(collection[key], key);\n        });\n    }\n}\n"]}