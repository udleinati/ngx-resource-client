{"version":3,"file":"document-resource.js","sourceRoot":"","sources":["../src/document-resource.ts"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,wBAAwB,CAAC;AAErD,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AAEtC,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;;;;;AAGtC,MAAM,uBAAuD,SAAQ,QAAQ;;;sCAClC,IAAI,QAAQ,EAAE;uBACpC,KAAK;uBACc,IAAI;;;;;;IAGjC,IAAI,CAAC,aAAuC;QAC/C,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QAEnC,IAAI,aAAa,KAAK,IAAI,EAAE;YACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YAEjB,OAAO;SACV;QAED,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;YACZ,IAAI,CAAC,IAAI,qBAAM,WAAW,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA,CAAC;SAChH;QAED,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE;YAC/B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC;SAC7B;QAED,IAAI,CAAC,IAAI,GAAG,aAAa,CAAC,IAAI,IAAI,EAAE,CAAC;;;;;IAGlC,SAAS;QACZ,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;QACtB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;;CAE5B","sourcesContent":["import { CacheMemory } from './services/cachememory';\nimport { Converter } from './services/converter';\nimport { Resource } from './resource';\nimport { Page } from './services/page';\nimport { Document } from './document';\nimport { IDocumentResource } from './interfaces/data-object';\n\nexport class DocumentResource<R extends Resource = Resource> extends Document {\n    public data: R | null | undefined = <R>new Resource();\n    public builded = false;\n    public content: 'id' | 'resource' = 'id';\n    public data_resource: IDocumentResource | null;\n\n    public fill(data_resource: IDocumentResource | null): void {\n        this.builded = false;\n        this.content = 'id';\n        this.data_resource = data_resource;\n\n        if (data_resource === null) {\n            this.data = null;\n\n            return;\n        }\n\n        if (!this.data) {\n            this.data = <R>CacheMemory.getInstance().getOrCreateResource(data_resource.data.type, data_resource.data.id);\n        }\n\n        if (this.data.fill(data_resource)) {\n            this.builded = true;\n            this.content = 'resource';\n        }\n\n        this.meta = data_resource.meta || {};\n    }\n\n    public unsetData(): void {\n        this.data = undefined;\n        this.builded = false;\n    }\n}\n"]}